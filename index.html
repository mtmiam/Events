<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RedStore | Ecommerce Website Design</title>
    <link rel="stylesheet" href="style.css"> <!--to connect the html file with css file-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/fontawesome.min.css" integrity="sha384-zIaWifL2YFF1qaDiAo0JFgsmasocJ/rqu7LKYH8CoBEXqGbb9eO+Xi3s6fQhgFWM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">  <!--link el icons (stars & quote)-->
    <script>
        function displayDate(){
             document.getElementById("showDate").innerHTML= Date();
        }
   </script>                                                                      
</head>
<body>
<!--Header section-->
        
    <div class="header">
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <img src="https://www.transparentpng.com/thumb/target/transparent-picture-target-32.png" alt="" width="125px"> 
                </div>
                <nav> <!--nav tag defines a set of navigation links.-->
                    <ul id="MenuItems"> <!--unordered list-->
                        <li><a href="index.html">Home</a></li>
                        <!-- <li><a href="product.html">Products</a></li> -->
                        <li><a href="About.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="account.html">Account</a></li>
                    </ul>
                </nav>
                <!-- <a href="cart.html"><img src="images/cart.png" width="30px" height="30px"></a> Add picture of cart in the nav bar -->
                <img src="images/menu.png" class="menu-icon" onclick="menutoggle()"> <!--adding menu icon to the header , with finctionnamed menutoggle onclick-->
            </div>
            <div>
                <p><b> page content </b></p>
                <ul > <!--unordered list-->
                    <li><a href="#Featured">&bull; <u>Following Events</u> </a></li>
                    <!-- <li><a href="#latest">&bull; <u>latest Products</u> </a></li> -->
                </ul>
            </div>
            <div class="row"> <!--inside the continer div to be centered in the page-->
                <div class="col-2">
                    <h1>Give Your Events <br>A New Style!</h1> <!--Br to change the line-->
                    <p>Success isn't alawys about greatness, 
                        It's about consistency. Consistent <br> hard work gains success.
                        Greatness will come.</p>
                        <a href="" class="btn">Explore Now &#8594; </a>
                </div>
                <div class="col-2"> <!--in the same column we will add image-->
                    <img src="images/ppp.jpg" alt=""> <!--image1 is very big and resized in css-->
                </div>
            </div>
        </div>
    </div>
    <button type="button"onclick="displayDate()">Show Date</button>
        <p id="showDate"></p>

<!--Featured Categories section-->
<div class="categories">
    <div class="small-container">
        <div class="row"> <!--Col 3 means we need 3 columns-->
            <div class="col-3"> 
                <!-- <img src="images/installment.png" alt=""> -->
            </div>
            <div class="col-3">
                <img src="images/50Off.png" alt="">
            </div>
            <div class="col-3">
                <!-- <img src="images/Free-Shipping.png" alt=""> -->
    
            </div>
        </div>
    </div>
</div>

<!--Featured product section-->
<div class="small-container">
    <h2 class="title" id="Featured" >Following Events</h2>
    <div id="newFeatured" class="row"></div>
    <!--********************************ZZZZZZZZZZZZZZZZZZZZZZ***********************-->
    <!----- latest product section start------>
    <!-- <h2 class="title">latest Products</h2>  
    <div id="latest" class="row"></div> -->
</div>

<!----- latest product section end------>

 <!----- offer product section start------>
<div class="offer">
    <div class="small-container">
        <div class="row"> <!--named row to be with the same css style of the faeatured product section-->
            <div class="col-22"> <!--the class of the two colomns in the offer section-->
                <img src="images/exclusive1.jpg" class="offer-img">
            </div>
            <div class="col-22">
                <p1>New Event</p1>
                <h1>Mummies Transfer</h1>
                <small> CAIRO â€” Downtown Cairo came to a near standstill Saturday night as 
                    22 mummies were moved from a museum where they had resided for more than a century to a new home,
                    transported atop custom-made vehicles in a glittering,
                    meticulously planned procession.<br>
                    <b>Saturday, November 19, 2022 </b><br>
                </small>
                
                <a href=""class="btn">Booking &#8594;</a>
            
            </div>
        </div>
    </div>
</div>

<!-- the biggest deal -->
<div class="div21">
    <img src="https://i.pinimg.com/originals/f9/cc/b0/f9ccb01a1fd53b31715434a5d4e9af2a.jpg" alt="" class="img12">
    <img src="" alt="" class="img12">

    <p class="p12">Best</p>
    <div class="div12">
        <button class="btn0">1</button>
        <button class="btn1">2</button>
        <button class="btn2">3</button>
        <button class="btn3">4</button>
    </div>
</div>

<script src="script.js"></script>

 <!-- -------------- testimonial -------------  -->
 <div class="testimonial">
    <div class="small-container">
        <div class="row">
            <div class="col-3"> <!--named like this for the three testimonial divs-->
                <i class="fa fa-quote-left"></i> <!--class for the quote icon-->
                <p>The event was wonderful and special, and its idea was wonderful, and we are glad that we are returning to our civilizations.</p>
                <div class="rating"> 
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                </div>
                <img src="images/user-5.png">
                <h3>Peter Parker</h3>
            </div>

            <div class="col-3">
                <i class="fa fa-quote-left"></i>
                <p>The organization is wonderful and distinctive, and one of the best concerts I have ever visited.</p>
                <div class="rating">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-half-o"></i>
                </div>
                <img src="images/user-2.png">
                <h3>Mike Smith</h3>
            </div>

            <div class="col-3">
                <i class="fa fa-quote-left"></i>
                <p>One of the best events to attend, and the services were available abundantly, waiting for the new event.</p>
                <div class="rating">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-half-o"></i>
                </div>
                <img src="images/user-4.jpg">
                <h3>Tony Stark</h3>
            </div>

        </div>
    </div>
</div>

<!-- -------------- brands --------------  -->
<div class="brands">
    <div class="small-container">
        <div class="row">
            <div class="col-5">
                <img src="images/logo-godrej.png">
            </div>
            <div class="col-5">
                <img src="images/logo-oppo.png">
            </div>
            <div class="col-5">
                <img src="images/logo-coca-cola.png">
            </div>
            <div class="col-5">
                <img src="images/logo-paypal.png">
            </div>
            <div class="col-5">
                <img src="images/logo-philips.png">
            </div>
        </div>
    </div>
</div>

<!-- ------------------ footer ----------------  -->
<div class="footer">
    <div class="container">
        <div class="row">
            <div class="footer-col-1">
                <h3>Download our App</h3>
                <p>Download App for Android ands ios mobile phone.</p>
                <div class="app-logo">
                    <a href="https://play.google.com/store/games?utm_source=emea_Med&utm_medium=hasem&utm_content=Sep2020&utm_campaign=Evergreen&pcampaignid=MKT-EDR-emea-eg-1001280-Med-hasem-py-Evergreen-Sep2020-Text_Search_BKWS%7CONSEM_kwid_43700009235293910&gclid=Cj0KCQjwhLKUBhDiARIsAMaTLnE-BiuksFkBwXXUFOyNgWREar5UAmCzefCGfmBJFzcYcT4oTzw1S0YaAuBZEALw_wcB&gclsrc=aw.ds"> <img src="images/play-store.png"></a>
                   <a href="https://www.apple.com/eg/app-store/"><img src="images/app-store.png"></a>
                    
                </div> 
            </div>
            <div class="footer-col-2">
                <img src="https://www.transparentpng.com/thumb/target/transparent-picture-target-32.png">
                <p>To have peace there must be strife; both are part of the structure of the world and requirements.</p>
            </div>
            <!-- <div class="footer-col-3">
                <h3>Useful Links</h3>
                <ul>
                    <li><a href="https://egypt.alcoupon.com/en/discount-codes/amazon-egypt-souq"  style="color: #8a8a8a;">Coupons</a>  </li>
                    <li><a href="https://aws.amazon.com/blogs/"  style="color: #8a8a8a;">Blog Post</a></li>
                    <li><a href="https://www.amazon.com/gp/help/customer/display.html?nodeId=GKM69DUUYKQWKWX7"  style="color: #8a8a8a;">Return Policy</a></li>
                    <li><a href="https://selfedev.com/noon-affiliate/"  style="color: #8a8a8a;">Affiliate</a>Join </li>
                </ul>
            </div>   -->
            <div class="footer-col-4">
                <h3>Follow us</h3>
                <ul>                  
                    <li><a href="https://www.facebook.com/"  style="color: #8a8a8a;">Facebook</a>  </li>
                    <li><a href="https://twitter.com/home" style="color: #8a8a8a;">Twitter</a></li>
                    <li><a href="https://www.instagram.com/" style="color: #8a8a8a;">Instagram</a></li>
                    <li><a href="https://www.youtube.com/" style="color: #8a8a8a;">Youtube</a></li>
                </ul>
            </div>
        </div>
        <hr> 
        <p class="copyright"> Copytight 2022 - Our Team</p>
    </div>
</div>

<!-- ------------ js for toggle menu -----------  -->
<script>
    var MenuItems = document.getElementById("MenuItems");

    MenuItems.style.maxHeight = "0px";

    function menutoggle() { /* function to open the menu onclick*/
        if (MenuItems.style.maxHeight == "0px") { /*0px = the menu is closed*/
            MenuItems.style.maxHeight = "200px";
        } else {
            MenuItems.style.maxHeight = "0px";
        }
    }
</script>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-analytics.js";
    import { getDatabase , ref, child, get, set } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDLGGGQ_ovuBh_0oTR6wUAYsXJ0j64bYe8",
      authDomain: "ecommerce-90bdf.firebaseapp.com",
      databaseURL: "https://ecommerce-90bdf-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "ecommerce-90bdf",
      storageBucket: "ecommerce-90bdf.appspot.com",
      messagingSenderId: "403172269237",
      appId: "1:403172269237:web:467e35e7c5e6db88c9f2fc",
      measurementId: "G-0HFDKNVJPG"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const dbRef = ref(db);

    get(child(dbRef, `prodacts`)).then((snapshot) => {
    if (snapshot.exists()) {
        console.log(snapshot.val());

        let aa=Object.keys(snapshot.val()).length

        showProducts(snapshot.val(),1,5,"newFeatured","a")
        showProducts(snapshot.val(),aa-7,aa,"latest","b")

    } else {
        console.log("No data available");
    }
    }).catch((error) => {
    console.error(error);
    });



    function showProducts(pro,rangeMin,RangeMax,place,call){
            let ProductId;
            let ProductNameID
            let ProductPriceID
            let ProductPhotoID
            let ProductLinkID
            let ProductRateID
            let Products=pro

            let entries = Object.entries(Products);

            console.log(entries);
            
            console.log(Products);
            console.log(Object.keys(Products).length)
            for (let i = rangeMin; i < RangeMax; i++) {
                ProductId = "product" + i+call;
                ProductNameID =ProductId +"name"+call;
                ProductPriceID = ProductId +"price"+call;
                ProductPhotoID = ProductId +"photo"+call;
                ProductLinkID = ProductId +"link"+call;
                ProductRateID = ProductId +"rate"+call;

                console.log(ProductId)

                let newDiv = document.createElement('div'); 
                newDiv.setAttribute("id", ProductId);
                newDiv.setAttribute("class", "col-4");
                let products = document.getElementById(place);
                products.appendChild(newDiv);

                let photo = document.createElement('img');
                photo.setAttribute("id", ProductPhotoID); 
                let link = document.createElement('a');
                link.setAttribute("id", ProductLinkID);
                let name = document.createElement('h4'); 
                name.setAttribute("id", ProductNameID);
                let price = document.createElement('p');
                price.setAttribute("id", ProductPriceID); 
                let rateDiv = document.createElement('div');
                rateDiv.setAttribute("id", ProductRateID);
                rateDiv.setAttribute("class", "rating");

                let newProduct = document.getElementById(ProductId);
                newProduct.appendChild(photo);
                newProduct.appendChild(link);
                newProduct.appendChild(name);
                newProduct.appendChild(rateDiv);
                newProduct.appendChild(price);


                document.getElementById(ProductPhotoID).src=entries[i][1].img;
                document.getElementById(ProductLinkID).href=entries[i][1].link;
                document.getElementById(ProductLinkID).innerText="Event details soon";
                // document.getElementById(ProductNameID).innerHTML=entries[i][1].name;
                // document.getElementById(ProductPriceID).innerHTML="$"+entries[i][1].price;


                // let rating = document.getElementById(ProductRateID);
                // let rate=entries[i][1].rate;
                // let Fraction=rate-parseInt(rate);
                // for (let j = 0; j < parseInt(rate); j++) {
                //     let star = document.createElement('i');
                //     star.setAttribute("class", "fa fa-star");
                //     rating.appendChild(star);
                // }
                // if (Fraction >= 0.25 && Fraction < 0.75){
                //     let star = document.createElement('i');
                //     star.setAttribute("class", "fa fa-star-half-o");
                //     rating.appendChild(star);
                // }else if (Fraction >= 0.75){
                //     let star = document.createElement('i');
                //     star.setAttribute("class", "fa fa-star");
                //     rating.appendChild(star);
                // }

            }
        
        }


</script>

</body>
</html>